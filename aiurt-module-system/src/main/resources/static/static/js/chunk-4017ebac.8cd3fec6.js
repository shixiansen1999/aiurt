(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4017ebac"],{1153:function(e,t,a){},"138f":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("运维人员推荐")]),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"450",trigger:"hover"}},[a("el-row",[a("span",[e._v("功能：了解各运维人员的技术面，发生故障时调度擅长的运维人员进行维修或提供咨询帮助")]),a("br"),e._v(" "),a("span",[e._v("输入：运维人员的姓名和故障类型")]),a("br"),e._v(" "),a("span",[e._v("输出：运维人员的技术面及对某类故障的处理细节")]),a("br"),e._v(" "),a("span",[e._v("输入示例：运维人员：冯岩明、付昌卓 故障类型：门类、灯类、PZZ")])]),e._v(" "),a("i",{staticClass:"iconfont icon-iconset0143 header_icon",attrs:{slot:"reference"},slot:"reference"})],1)],1),e._v(" "),a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"运维人员"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"请输入运维人员姓名"},model:{value:e.searchForm.people,callback:function(t){e.$set(e.searchForm,"people",t)},expression:"searchForm.people"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"故障类型"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"请输入故障类型"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}})],1),e._v(" "),a("el-row",{staticClass:"form-center"},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small",round:""},on:{click:e.getSeachTableData}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",round:""},on:{click:e.clearSearchForm}},[e._v("清空")])],1)],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"350px"},attrs:{id:"main2"}})])],1)],1),e._v(" "),e.showFlag?a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{width:"100%",height:"350px"},attrs:{id:"main"}})])],1)],1):e._e(),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("运维人员历史推荐")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyPage,border:"",stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"reportDate",label:"报修日期",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recoverDate",label:"恢复日期",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lineName",label:"地铁线",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"地铁站",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reportDept",label:"报修部门",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reportUser",label:"报修人",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptUser",label:"接报人",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"handleUser",label:"处理人",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recordUser",label:"记录人",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultDevicePosition",label:"故障设备位置",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultDeviceType",label:"故障设备类型",width:"120",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultType",label:"故障分类",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultAppearance",label:"故障现象",width:"200",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultCause",label:"故障原因",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"faultHandleDes",label:"故障处理过程",width:"200",align:"left"}})],1),e._v(" "),a("div",{staticClass:"paginaton-right"},[e.pageFlag?a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,40],"page-size":e.searchForm.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)],1)},r=[],s=(a("7f7f"),a("28a5"),a("6762"),a("2fdb"),a("ac6a"),a("4e9e")),i=a("828d"),o=(a("91a6"),a("4328"),a("313e")),n=a.n(o),c={name:"directive_page",filters:{formatIsAgentDataListStatus:function(e){return Object(s["a"])(_isAgentDataList,e)}},data:function(){return{spinShow:!1,rules:{subjectTitle:[{required:!0,message:"请输入话题标题",trigger:"blur"}],keyword:[{required:!0,message:"请输入关键词（逗号分隔）",trigger:"blur"}]},historyPage:[],typeCount:[],stationIdSelect:[],searchForm:{people:"",type:""},showFlag:!1,page:1,size:10,total:0,pageFlag:!0}},created:function(){},mounted:function(){this.funcToBackPage(),this.initEcharts2()},beforeDestroy:function(){},methods:{getTableData:function(e){var t=this,a=this;""===a.searchForm.people?a.showFlag=!1:a.showFlag=!0,Object(i["F"])(e).then(function(e){if(200===e.code){var l=e.data;a.historyPage=l.historyPage.data,a.typeCount=l.typeCount,a.total=l.historyPage.total,t.initEcharts(),t.spinShow=!1}else a.$message.error(e.message)})},getSearchForm:function(){var e=this.searchForm,t=this,a={people:e.people,type:e.type,page:t.page,size:t.size};return a},getSeachTableData:function(){var e=this;this.page=1,this.getTableData(e.getSearchForm())},handleSelectionChange:function(e){var t=this;t.returnBackIds=[],this.multipleSelection=e,this.multipleSelection.forEach(function(e){t.returnBackIds.push(e.id)})},clearSearchForm:function(){var e=this;e.searchForm={people:"",type:""},e.page=1,e.size=10,e.getTableData(e.getSearchForm())},handleSizeChange:function(e){var t=this;t.size=e,t.getTableData(t.getSearchForm())},handleCurrentChange:function(e){var t=this;t.page=e,t.getTableData(t.getSearchForm())},stringToArr:function(e){if(""!==e&&void 0!==e){var t=[];if(e.includes(",")){var a=e.split(",");a.forEach(function(e,a){t.push(e)})}else if(e.includes("，")){var l=e.split("，");l.forEach(function(e,a){t.push(e)})}else t.push(e);return t}},initEcharts:function(){var e=this,t=n.a.init(document.getElementById("main")),a={title:{text:"运维人员历史推荐占比",subtext:"",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"",type:"pie",radius:"50%",data:e.typeCount,itemStyle:{emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},normal:{label:{show:!0,formatter:"{b}({d}%)"},labelLine:{show:!0}}}}]};t.setOption(a)},initEcharts2:function(){var e=this;Object(i["G"])().then(function(t){if(200===t.code){var a=t.data,l=a.peoTypeDataList,r=[];l.forEach(function(e,t){var a={name:e.name,type:"bar",stack:"total",label:{show:!0},emphasis:{focus:"series"},data:e.data};r.push(a)});var s=n.a.init(document.getElementById("main2")),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:a.typeList},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:a.peoNameList},yAxis:{type:"value"},series:r};s.setOption(i)}else e.$message.error(t.message)})},funcToBackPage:function(){var e=this.$route.name,t=window.localStorage.getItem("urlParams")||null,a=window.localStorage.getItem("wherePage")||null;a===e&&t?(t=JSON.parse(t),this.funcBackSearchForm(t),this.getTableData(t)):((a||t)&&this.$store.commit("clearBackURL"),this.getTableData(this.getSearchForm()))},funcBackSearchForm:function(e){var t=this;this.page=e.hasOwnProperty("page")&&e.page?e.page:"",this.size=e.hasOwnProperty("size")&&e.size?e.size:"",this.pageFlag=!1,this.$nextTick(function(){t.pageFlag=!0})}}},p=c,h=(a("d8b9"),a("2877")),u=Object(h["a"])(p,l,r,!1,null,null,null);t["default"]=u.exports},d8b9:function(e,t,a){"use strict";var l=a("1153"),r=a.n(l);r.a}}]);