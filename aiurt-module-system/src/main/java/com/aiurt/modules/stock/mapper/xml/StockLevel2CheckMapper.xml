<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aiurt.modules.stock.mapper.StockLevel2CheckMapper">
    <select id="pageList" resultType="com.aiurt.modules.stock.entity.StockLevel2Check">
        select slc.*
        from stock_level2_check slc
        left join stock_level2_info sli on slc.warehouse_code = sli.warehouse_code and sli.del_flag = 0
        <where>
            and slc.del_flag = 0
            <if test="condition.stockCheckCode != null and condition.stockCheckCode != ''">
                and slc.stock_check_code like concat(concat('%',#{condition.stockCheckCode}),'%')
            </if>
            <if test="condition.warehouseName != null and condition.warehouseName != ''">
                and sli.warehouse_name like concat(concat('%',#{condition.warehouseName}),'%')
            </if>
            <if test="condition.planStartTimeStart != null and condition.planStartTimeEnd != null">
                and Date(slc.plan_start_time) &gt;= #{condition.planStartTimeStart} and Date(slc.plan_start_time) &lt;= #{condition.planStartTimeEnd}
            </if>
            <if test="condition.status != null and condition.status != ''">
                and slc.status = #{condition.status}
            </if>
        </where>
        order by slc.create_time desc
    </select>
</mapper>
