<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aiurt.modules.system.mapper.CsUserSubsystemMapper">

<select id="getSubsystemIds" resultType="java.lang.String">
    select system_id from cs_user_subsystem where user_id = #{userId}
    </select>

<select id="getSubsystemByUserId" resultType="org.jeecg.common.system.vo.CsUserSubsystemModel">
    select cus.id ,cus.user_id,cus.system_id,cs.system_code ,cs.system_name ,cs.major_code,cm.id as majorId
    from cs_user_subsystem cus
    left join cs_subsystem cs on cs.id = cus.system_id
    LEFT JOIN cs_major cm on cs.major_code = cm.major_code
    where cs.del_flag = 0 and cus.user_id = #{id}
</select>
</mapper>
