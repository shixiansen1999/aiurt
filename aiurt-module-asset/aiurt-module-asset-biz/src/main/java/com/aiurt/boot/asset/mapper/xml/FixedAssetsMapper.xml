<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aiurt.boot.asset.mapper.FixedAssetsMapper">
    <select id="pageList" resultType="com.aiurt.boot.asset.dto.FixedAssetsDTO">
        select *
        from fixed_assets
                where del_flag = 0
        <if test="condition.categoryCode != null and condition.categoryCode != ''">
            and category_code = #{condition.categoryCode}
        </if>
        <if test="condition.assetCode != null and condition.assetCode != ''">
            and  asset_code = #{condition.assetCode}
        </if>
        <if test="condition.assetName != null and condition.assetName != ''">
            and  asset_Name = #{condition.assetName}
        </if>
        <if test="condition.lineStations != null and condition.lineStations.size() != 0">
            and location in
            <foreach collection="condition.lineStations" item="item" index="index" open="(" close=")" separator=",">
                #{item}
            </foreach>
        </if>
         <if test="condition.location != null and condition.location != ''and condition.lineStations.size() == 0">
            and location  = #{condition.location}
        </if>
        order by create_time desc
    </select>
</mapper>